{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/ts/audiomanager.ts","app/ts/config.ts","app/ts/creditsscreen.ts","app/ts/game.ts","app/ts/helpscreen.ts","app/ts/input.ts","app/ts/main.ts","app/ts/optionsscreen.ts","app/ts/resources.ts","app/ts/titlescreen.ts"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import { FADE_IN_TIME, FADE_OUT_TIME } from \"./config\";\n\nclass CAudioManager {\n    public gainNode: GainNode;\n\n    private context: AudioContext;\n    private musicSource: AudioBufferSourceNode;\n    private musicTime: number;\n\n    constructor() {\n        this.context = new AudioContext();\n        this.gainNode = this.context.createGain();\n        this.gainNode.connect(this.context.destination);\n        this.musicTime = 0;\n    }\n\n    public async getBuffer(url: string): Promise<AudioBuffer> {\n        return new Promise<AudioBuffer>((resolve) => {\n            const request = new XMLHttpRequest();\n            request.open(\"GET\", url, true);\n            request.responseType = \"arraybuffer\";\n\n            request.onload = () => {\n                this.context.decodeAudioData(request.response, (buffer: AudioBuffer) => {\n                    resolve(buffer);\n                });\n            };\n            request.send();\n        });\n    }\n\n    public playSound(buffer: AudioBuffer) {\n        const source = this.context.createBufferSource();\n        source.buffer = buffer;\n        source.connect(this.context.destination);\n        source.start(0);\n    }\n\n    public startMusic(buffer: AudioBuffer) {\n        this.musicSource = this.context.createBufferSource();\n        this.musicSource.buffer = buffer;\n        this.musicSource.loop = true;\n        this.musicSource.connect(this.gainNode);\n        this.gainNode.gain.linearRampToValueAtTime(0, this.context.currentTime);\n        this.gainNode.gain.linearRampToValueAtTime(1, this.context.currentTime + FADE_IN_TIME);\n        this.musicSource.start(this.musicTime);\n    }\n\n    public stopMusic() {\n        this.gainNode.gain.linearRampToValueAtTime(1, this.context.currentTime);\n        this.gainNode.gain.linearRampToValueAtTime(0, this.context.currentTime + FADE_OUT_TIME);\n        this.musicSource.stop(this.context.currentTime + FADE_OUT_TIME);\n        this.musicTime = 0;\n    }\n\n    public pauseMusic() {\n        this.gainNode.gain.linearRampToValueAtTime(1, this.context.currentTime);\n        this.gainNode.gain.linearRampToValueAtTime(0, this.context.currentTime + FADE_OUT_TIME);\n        this.musicSource.stop(this.context.currentTime + FADE_OUT_TIME);\n        this.musicTime = this.context.currentTime + FADE_OUT_TIME;\n    }\n}\n\nexport const AudioManager = new CAudioManager();\n","export const CANVAS_WIDTH: number = 1100;\nexport const CANVAS_HEIGHT: number = 600;\n\nexport const FADE_IN_TIME: number = 1;\nexport const FADE_OUT_TIME: number = 0.5;\n\nexport const DEBUG: boolean = true;\n\nexport const CANVAS_OFFSET_X = CANVAS_WIDTH / 2;\nexport const CANVAS_OFFSET_Y = 144 + 202;\n","import { CANVAS_WIDTH } from \"./config\";\nimport { game } from \"./game\";\nimport { InputManager, Key } from \"./input\";\nimport { IScreen } from \"./screen\";\n\nexport class CreditsScreen implements IScreen {\n    private prevScreen: IScreen;\n    private credits: string[];\n\n    constructor(prevScreen?: IScreen) {\n        this.prevScreen = prevScreen;\n        this.credits = [\n            \"Designed by Alic Szecsei\",\n            \"Artwork by Ren Neymeyer\",\n        ];\n    }\n\n    public update(deltaTime: number): void {\n        if (InputManager.pressed(Key.ENTER)\n            || InputManager.pressed(Key.SPACE)\n            || InputManager.pressed(Key.ESCAPE)) {\n            game.currentScreen = this.prevScreen;\n        }\n    }\n\n    public draw(ctx: CanvasRenderingContext2D, deltaTime: number): void {\n        ctx.fillStyle = \"red\";\n        ctx.font = \"64pt 'Press Start 2P'\";\n        const titleText = \"Bee Dodger\";\n        ctx.fillText(titleText, (CANVAS_WIDTH - ctx.measureText(titleText).width) / 2, 150);\n        ctx.fillStyle = \"white\";\n        ctx.font = \"32px 'Press Start 2P'\";\n        for (let i = 0; i < this.credits.length; i++) {\n            ctx.fillText(this.credits[i], (CANVAS_WIDTH - ctx.measureText(this.credits[i]).width) / 2, 250 + (i * 50));\n        }\n        ctx.fillStyle = \"yellow\";\n        ctx.font = \"32px 'Press Start 2P'\";\n        const backText = \"Back\";\n        ctx.fillText(backText, (CANVAS_WIDTH - ctx.measureText(backText).width) / 2, 400);\n    }\n\n}\n","import { IScreen, IScreenConstructor } from \"./screen\";\nimport { TitleScreen } from \"./titlescreen\";\n\nclass Game {\n    public currentScreen: IScreen;\n\n    public constructor() {\n        this.SetUpScreen(TitleScreen);\n    }\n\n    public SetUpScreen(ScreenType: IScreenConstructor) {\n        const mOldScreen = this.currentScreen;\n        const newScreen = new ScreenType(mOldScreen);\n        this.currentScreen = newScreen;\n    }\n}\n\nexport const game: Game = new Game();\n","import { CANVAS_WIDTH } from \"./config\";\nimport { game } from \"./game\";\nimport { InputManager, Key } from \"./input\";\nimport { IScreen } from \"./screen\";\n\nexport class HelpScreen implements IScreen {\n    private prevScreen: IScreen;\n    private instructions: string[];\n\n    constructor(prevScreen: IScreen) {\n        this.prevScreen = prevScreen;\n        this.instructions = [\n            \"Arrow keys to move\",\n            \"Spacebar to activate pickups\",\n            \"Dodge the bees to survive!\",\n        ];\n    }\n\n    public update(deltaTime: number): void {\n        if (InputManager.pressed(Key.ENTER)\n            || InputManager.pressed(Key.SPACE)\n            || InputManager.pressed(Key.ESCAPE)) {\n            game.currentScreen = this.prevScreen;\n        }\n    }\n    public draw(ctx: CanvasRenderingContext2D, deltaTime: number): void {\n        ctx.fillStyle = \"red\";\n        ctx.font = \"64pt 'Press Start 2P'\";\n        const titleText = \"Bee Dodger\";\n        ctx.fillText(titleText, (CANVAS_WIDTH - ctx.measureText(titleText).width) / 2, 150);\n        ctx.fillStyle = \"white\";\n        ctx.font = \"32px 'Press Start 2P'\";\n        for (let i = 0; i < this.instructions.length; i++) {\n            const xPos = (CANVAS_WIDTH - ctx.measureText(this.instructions[i]).width) / 2;\n            const yPos = 250 + i * 50;\n            ctx.fillText(this.instructions[i], xPos, yPos);\n        }\n        ctx.fillStyle = \"yellow\";\n        ctx.font = \"32px 'Press Start 2P'\";\n        const backText = \"Back\";\n        ctx.fillText(backText, (CANVAS_WIDTH - ctx.measureText(backText).width) / 2, 400);\n    }\n}\n","export enum Key {\n    BACKSPACE = 8,\n    TAB = 9,\n    ENTER = 13,\n    SHIFT = 16,\n    CTRL = 17,\n    ALT = 18,\n    PAUSE_BREAK = 19,\n    CAPS_LOCK = 20,\n    ESCAPE = 27,\n    SPACE = 32,\n    PAGE_UP = 33,\n    PAGE_DOWN = 34,\n    END = 35,\n    HOME = 36,\n    LEFT_ARROW = 37,\n    UP_ARROW = 38,\n    RIGHT_ARROW = 39,\n    DOWN_ARROW = 40,\n    INSERT = 45,\n    DELETE = 46,\n    ZERO = 48,\n    ONE = 49,\n    TWO = 50,\n    THREE = 51,\n    FOUR = 52,\n    FIVE = 53,\n    SIX = 54,\n    SEVEN = 55,\n    EIGHT = 56,\n    NINE = 57,\n    A = 65,\n    B = 66,\n    C = 67,\n    D = 68,\n    E = 69,\n    F = 70,\n    G = 71,\n    H = 72,\n    I = 73,\n    J = 74,\n    K = 75,\n    L = 76,\n    M = 77,\n    N = 78,\n    O = 79,\n    P = 80,\n    Q = 81,\n    R = 81,\n    S = 83,\n    T = 84,\n    U = 85,\n    V = 86,\n    W = 87,\n    X = 88,\n    Y = 89,\n    Z = 90,\n    WIN_LEFT = 91,\n    WIN_RIGHT = 92,\n    SELECT = 93,\n    NUM_ZERO = 96,\n    NUM_ONE = 97,\n    NUM_TWO = 98,\n    NUM_THREE = 99,\n    NUM_FOUR = 100,\n    NUM_FIVE = 101,\n    NUM_SIX = 102,\n    NUM_SEVEN = 103,\n    NUM_EIGHT = 104,\n    NUM_NINE = 105,\n    MULTIPLY = 106,\n    ADD = 107,\n    SUBTRACT = 109,\n    DECIMAL = 110,\n    DIVIDE = 111,\n    F1 = 112,\n    F2 = 113,\n    F3 = 114,\n    F4 = 115,\n    F5 = 116,\n    F6 = 117,\n    F7 = 118,\n    F8 = 119,\n    F9 = 120,\n    F10 = 121,\n    F11 = 122,\n    F12 = 123,\n    NUM_LOCK = 144,\n    SCROLL_LOCK = 145,\n    SEMICOLON = 186,\n    EQUALS = 187,\n    COMMA = 188,\n    DASH = 189,\n    PERIOD = 190,\n    FORWARD_SLASH = 191,\n    GRAVE_ACCENT = 192,\n    OPEN_BRACKET = 219,\n    BACK_SLASH = 220,\n    CLOSE_BRACKET = 221,\n    SINGLE_QUOTE = 222,\n}\n\nclass CInputManager {\n\n    private mPressed = new Set<Key>();\n    private mLastPressed = new Set<Key>();\n\n    public isDown(keyCode: Key) {\n        return this.mPressed.has(keyCode);\n    }\n\n    public pressed(keyCode: Key) {\n        return this.mPressed.has(keyCode) && !this.mLastPressed.has(keyCode);\n    }\n\n    public isUp(keyCode: Key) {\n        return !this.mPressed.has(keyCode);\n    }\n\n    public released(keyCode: Key) {\n        return !this.mPressed.has(keyCode) && this.mLastPressed.has(keyCode);\n    }\n\n    public onKeydown(event: KeyboardEvent) {\n        this.mPressed.add(event.keyCode);\n        event.preventDefault();\n    }\n\n    public onKeyup(event: KeyboardEvent) {\n        this.mPressed.delete(event.keyCode);\n        event.preventDefault();\n    }\n\n    public flush() {\n        this.mLastPressed.clear();\n        this.mPressed.forEach((k: Key) => {\n            this.mLastPressed.add(k);\n        });\n    }\n}\n\nexport const InputManager = new CInputManager();\n","import * as config from \"./config\";\nimport { game } from \"./game\";\nimport { InputManager, Key } from \"./input\";\nimport * as Resource from \"./resources\";\n\nconst canvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\ncanvas.width = config.CANVAS_WIDTH;\ncanvas.height = config.CANVAS_HEIGHT;\nconst ctx = canvas.getContext(\"2d\", {alpha: false});\nctx.imageSmoothingEnabled = false;\nctx.textBaseline = \"middle\";\ncanvas.width = config.CANVAS_WIDTH;\ncanvas.height = config.CANVAS_HEIGHT;\nconst FPS = 30;\n\nResource.loadImage(\"background\", \"img/bg.png\");\nResource.loadImage(\"player\", \"img/player.png\");\nResource.loadImage(\"basic bee\", \"img/basicbee.png\");\nResource.loadImage(\"big bee\", \"img/bigbee.png\");\nResource.loadImage(\"bee time\", \"img/beetime.png\");\nResource.loadImage(\"bumblebee\", \"img/bumblebee.png\");\nResource.loadImage(\"honey\", \"img/Honey_Anim.png\");\nResource.loadImage(\"honey bee\", \"img/honeybee.png\");\nResource.loadImage(\"eldritch bee\", \"img/eldritch_anim.png\");\nResource.loadImage(\"laser bee\", \"img/laser bee complete.png\");\nResource.loadAudio(\"bgm\", \"audio/beedodger.ogg\");\n\nlet last = -1;\nconst fpsList = [0];\n\n// add input listeners\nwindow.addEventListener(\"keyup\", (event: KeyboardEvent) => InputManager.onKeyup(event));\nwindow.addEventListener(\"keydown\", (event: KeyboardEvent) => InputManager.onKeydown(event));\n\nfunction gameloop(ts: number) {\n  let inc = 0;\n  if (last === -1) {\n    last = ts;\n  } else {\n    inc = ts - last;\n    last = ts;\n  }\n\n  ctx.clearRect(0, 0, config.CANVAS_WIDTH, config.CANVAS_HEIGHT);\n\n  game.currentScreen.update(inc);\n  game.currentScreen.draw(ctx, inc);\n\n  /* FPS Counter */\n  if (config.DEBUG) {\n    fpsList.push(inc);\n    if (fpsList.length > 10) {\n      fpsList.shift();\n      ctx.fillStyle = \"white\";\n      ctx.font = \"1em 'Press Start 2P\";\n      const avgFPS = fpsList.reduce((x, y) => x + y, 0) / 10;\n      ctx.fillText(`FPS: ${(1000 / avgFPS).toFixed(3)}`, 50, 50);\n    }\n  }\n\n  InputManager.flush();\n\n  window.requestAnimationFrame(gameloop);\n}\nwindow.requestAnimationFrame(gameloop);\n","import { CANVAS_HEIGHT, CANVAS_WIDTH } from \"./config\";\nimport { game } from \"./game\";\nimport { InputManager, Key } from \"./input\";\nimport { IScreen } from \"./screen\";\n\nexport class OptionsScreen implements IScreen {\n    private prevScreen: IScreen;\n    private options: string[];\n    private selected: number;\n\n    constructor(prevScreen?: IScreen) {\n        this.prevScreen = prevScreen;\n        this.options = [\"Clear High Scores\", \"Back\"];\n        this.selected = this.options.length - 1;\n    }\n\n    public update(deltaTime: number): void {\n        if (InputManager.pressed(Key.UP_ARROW) || InputManager.pressed(Key.W)) {\n            this.selected = (this.selected === 0 ? this.options.length - 1 : this.selected - 1);\n        }\n        if (InputManager.pressed(Key.DOWN_ARROW) || InputManager.pressed(Key.S)) {\n            this.selected = (this.selected === this.options.length - 1 ? 0 : this.selected + 1);\n        }\n\n        if (InputManager.pressed(Key.ENTER) || InputManager.pressed(Key.SPACE)) {\n            if (this.selected === 1) {\n                game.currentScreen = this.prevScreen;\n            } else if (this.selected === 0) {\n                // TODO: Clear high scores\n                game.currentScreen = this.prevScreen;\n            }\n        }\n    }\n\n    public draw(ctx: CanvasRenderingContext2D, deltaTime: number): void {\n        ctx.fillStyle = \"red\";\n        ctx.font = \"32pt 'Press Start 2P'\";\n        const titleText = \"OPTIONS\";\n        let xPos = (CANVAS_WIDTH - ctx.measureText(titleText).width) / 2;\n        let yPos = CANVAS_HEIGHT / 2;\n        ctx.fillText(titleText, xPos, yPos);\n\n        ctx.font = \"16pt 'Press Start 2P'\";\n        for (let i = 0; i < this.options.length; i++) {\n            if (i === this.selected) {\n                ctx.fillStyle = \"yellow\";\n            } else {\n                ctx.fillStyle = \"white\";\n            }\n            xPos = (CANVAS_WIDTH - ctx.measureText(this.options[i]).width) / 2;\n            yPos = 400 + i * 50;\n            ctx.fillText(this.options[i], xPos, yPos);\n        }\n    }\n}\n","import { AudioManager } from \"./audiomanager\";\n\nconst images = new Map<string, HTMLImageElement>();\nconst audio = new Map<string, AudioBuffer>();\n\nexport function getAudio(name: string): AudioBuffer {\n    return audio.get(name);\n}\n\nexport function getImage(name: string): HTMLImageElement {\n    return images.get(name) as HTMLImageElement;\n}\n\nexport function loadImage(name: string, path: string) {\n    const img = new HTMLImageElement();\n    img.src = path;\n    images.set(name, img);\n}\n\nexport function loadAudio(name: string, path: string) {\n    AudioManager.getBuffer(path)\n        .then((buffer: AudioBuffer) => audio.set(name, buffer));\n}\n","import { CANVAS_HEIGHT, CANVAS_WIDTH } from \"./config\";\nimport { CreditsScreen } from \"./creditsscreen\";\nimport { game } from \"./game\";\nimport { HelpScreen } from \"./helpscreen\";\nimport { InputManager, Key } from \"./input\";\nimport { OptionsScreen } from \"./optionsscreen\";\nimport { IScreen } from \"./screen\";\n\nexport class TitleScreen implements IScreen {\n\n    private selected: number;\n    private menuItems: string[];\n    private menuActions: Array<(() => void)>;\n\n    constructor() {\n        this.selected = 0;\n        this.menuItems = [\"Start\", \"Options\", \"Help\", \"Credits\"];\n        this.menuActions = [this.chooseGame, this.chooseOptions, this.chooseHelp, this.chooseCredits];\n    }\n\n    public update() {\n        if (InputManager.pressed(Key.UP_ARROW) || InputManager.pressed(Key.W)) {\n            if (this.selected !== 0) {\n                this.selected -= 1;\n            }\n        }\n        if (InputManager.pressed(Key.DOWN_ARROW) || InputManager.pressed(Key.S)) {\n            if (this.selected !== this.menuItems.length - 1) {\n                this.selected += 1;\n            }\n        }\n        if (InputManager.pressed(Key.ENTER) || InputManager.pressed(Key.SPACE)) {\n            // Selection\n            this.menuActions[this.selected]();\n        }\n    }\n\n    public draw(ctx: CanvasRenderingContext2D) {\n        ctx.fillStyle = \"white\";\n        ctx.font = \"64pt 'Press Start 2P'\";\n        const titleText = \"Bee Dodger\";\n        ctx.fillText(titleText, (CANVAS_WIDTH - ctx.measureText(titleText).width) / 2, CANVAS_HEIGHT / 2 - 50);\n\n        ctx.font = \"32px 'Press Start 2P'\";\n        for (let i = 0; i < this.menuItems.length; i++) {\n            if (i === this.selected) {\n                ctx.fillStyle = \"yellow\";\n            } else {\n                ctx.fillStyle = \"white\";\n            }\n            const menuText = (i === this.selected ? \"- \" : \"\") + this.menuItems[i];\n            const xPos = 150 + (i === this.selected ? 50 : 0);\n            const yPos = 400 + i * 50;\n            ctx.fillText(menuText, xPos, yPos);\n        }\n    }\n\n    private chooseGame() {\n        // TODO: Create game screen\n    }\n\n    private chooseOptions() {\n        game.SetUpScreen(OptionsScreen);\n    }\n\n    private chooseHelp() {\n        game.SetUpScreen(HelpScreen);\n    }\n\n    private chooseCredits() {\n        game.SetUpScreen(CreditsScreen);\n    }\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvdHMvYXVkaW9tYW5hZ2VyLnRzIiwiYXBwL3RzL2NvbmZpZy50cyIsImFwcC90cy9jcmVkaXRzc2NyZWVuLnRzIiwiYXBwL3RzL2dhbWUudHMiLCJhcHAvdHMvaGVscHNjcmVlbi50cyIsImFwcC90cy9pbnB1dC50cyIsImFwcC90cy9tYWluLnRzIiwiYXBwL3RzL29wdGlvbnNzY3JlZW4udHMiLCJhcHAvdHMvcmVzb3VyY2VzLnRzIiwiYXBwL3RzL3RpdGxlc2NyZWVuLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUEseUJBQXVEO0FBRXZEO0FBT0k7QUFDSSxBQUFJLGFBQUMsQUFBTyxVQUFHLElBQUksQUFBWSxBQUFFLEFBQUM7QUFDbEMsQUFBSSxhQUFDLEFBQVEsV0FBRyxBQUFJLEtBQUMsQUFBTyxRQUFDLEFBQVUsQUFBRSxBQUFDO0FBQzFDLEFBQUksYUFBQyxBQUFRLFNBQUMsQUFBTyxRQUFDLEFBQUksS0FBQyxBQUFPLFFBQUMsQUFBVyxBQUFDLEFBQUM7QUFDaEQsQUFBSSxhQUFDLEFBQVMsWUFBRyxBQUFDLEFBQUMsQUFDdkI7QUFBQztBQUVZLEFBQVMsY0FBQyxBQUFXOztBQUM5QixBQUFNLHVCQUFLLEFBQU8sUUFBZSxBQUFPLEFBQUUsQUFBRSxPQUFaO0FBQzVCLHNCQUFNLEFBQU8sVUFBRyxJQUFJLEFBQWMsQUFBRSxBQUFDO0FBQ3JDLEFBQU8sd0JBQUMsQUFBSSxLQUFDLEFBQUssT0FBRSxBQUFHLEtBQUUsQUFBSSxBQUFDLEFBQUM7QUFDL0IsQUFBTyx3QkFBQyxBQUFZLGVBQUcsQUFBYSxBQUFDO0FBRXJDLEFBQU8sd0JBQUMsQUFBTSxTQUFHLEFBQUcsQUFBRTtBQUNsQixBQUFJLHlCQUFDLEFBQU8sUUFBQyxBQUFlLGdCQUFDLEFBQU8sUUFBQyxBQUFRLFVBQUcsQUFBbUIsQUFBRSxB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QUM7QUFDMUIsQUFBRyxnQkFBQyxBQUFRLFNBQUMsQUFBUSxVQUFFLEFBQUksTUFBRSxBQUFJLEFBQUMsQUFBQyxBQUN2QztBQUFDLEFBQ0w7QUFBQztBQUVPLEFBQVU7QUFDZCxBQUEyQixBQUMvQjtBQUFDO0FBRU8sQUFBYTtBQUNqQixlQUFJLEtBQUMsQUFBVyxZQUFDLGdCQUFhLEFBQUMsQUFBQyxBQUNwQztBQUFDO0FBRU8sQUFBVTtBQUNkLGVBQUksS0FBQyxBQUFXLFlBQUMsYUFBVSxBQUFDLEFBQUMsQUFDakM7QUFBQztBQUVPLEFBQWE7QUFDakIsZUFBSSxLQUFDLEFBQVcsWUFBQyxnQkFBYSxBQUFDLEFBQUMsQUFDcEM7QUFBQyxBQUNKOztBQWhFRCxzQkFnRUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0IHsgRkFERV9JTl9USU1FLCBGQURFX09VVF9USU1FIH0gZnJvbSBcIi4vY29uZmlnXCI7XG5cbmNsYXNzIENBdWRpb01hbmFnZXIge1xuICAgIHB1YmxpYyBnYWluTm9kZTogR2Fpbk5vZGU7XG5cbiAgICBwcml2YXRlIGNvbnRleHQ6IEF1ZGlvQ29udGV4dDtcbiAgICBwcml2YXRlIG11c2ljU291cmNlOiBBdWRpb0J1ZmZlclNvdXJjZU5vZGU7XG4gICAgcHJpdmF0ZSBtdXNpY1RpbWU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gICAgICAgIHRoaXMuZ2Fpbk5vZGUgPSB0aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpO1xuICAgICAgICB0aGlzLmdhaW5Ob2RlLmNvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgdGhpcy5tdXNpY1RpbWUgPSAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBnZXRCdWZmZXIodXJsOiBzdHJpbmcpOiBQcm9taXNlPEF1ZGlvQnVmZmVyPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxBdWRpb0J1ZmZlcj4oKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgIHJlcXVlc3Qub3BlbihcIkdFVFwiLCB1cmwsIHRydWUpO1xuICAgICAgICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5kZWNvZGVBdWRpb0RhdGEocmVxdWVzdC5yZXNwb25zZSwgKGJ1ZmZlcjogQXVkaW9CdWZmZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShidWZmZXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlcXVlc3Quc2VuZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcGxheVNvdW5kKGJ1ZmZlcjogQXVkaW9CdWZmZXIpIHtcbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICBzb3VyY2UuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICBzb3VyY2UuY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICBzb3VyY2Uuc3RhcnQoMCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXJ0TXVzaWMoYnVmZmVyOiBBdWRpb0J1ZmZlcikge1xuICAgICAgICB0aGlzLm11c2ljU291cmNlID0gdGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuICAgICAgICB0aGlzLm11c2ljU291cmNlLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgdGhpcy5tdXNpY1NvdXJjZS5sb29wID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tdXNpY1NvdXJjZS5jb25uZWN0KHRoaXMuZ2Fpbk5vZGUpO1xuICAgICAgICB0aGlzLmdhaW5Ob2RlLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMCwgdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgdGhpcy5nYWluTm9kZS5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDEsIHRoaXMuY29udGV4dC5jdXJyZW50VGltZSArIEZBREVfSU5fVElNRSk7XG4gICAgICAgIHRoaXMubXVzaWNTb3VyY2Uuc3RhcnQodGhpcy5tdXNpY1RpbWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdG9wTXVzaWMoKSB7XG4gICAgICAgIHRoaXMuZ2Fpbk5vZGUuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgxLCB0aGlzLmNvbnRleHQuY3VycmVudFRpbWUpO1xuICAgICAgICB0aGlzLmdhaW5Ob2RlLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMCwgdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lICsgRkFERV9PVVRfVElNRSk7XG4gICAgICAgIHRoaXMubXVzaWNTb3VyY2Uuc3RvcCh0aGlzLmNvbnRleHQuY3VycmVudFRpbWUgKyBGQURFX09VVF9USU1FKTtcbiAgICAgICAgdGhpcy5tdXNpY1RpbWUgPSAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBwYXVzZU11c2ljKCkge1xuICAgICAgICB0aGlzLmdhaW5Ob2RlLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMSwgdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lKTtcbiAgICAgICAgdGhpcy5nYWluTm9kZS5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDAsIHRoaXMuY29udGV4dC5jdXJyZW50VGltZSArIEZBREVfT1VUX1RJTUUpO1xuICAgICAgICB0aGlzLm11c2ljU291cmNlLnN0b3AodGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lICsgRkFERV9PVVRfVElNRSk7XG4gICAgICAgIHRoaXMubXVzaWNUaW1lID0gdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lICsgRkFERV9PVVRfVElNRTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBBdWRpb01hbmFnZXIgPSBuZXcgQ0F1ZGlvTWFuYWdlcigpO1xuIiwiZXhwb3J0IGNvbnN0IENBTlZBU19XSURUSDogbnVtYmVyID0gMTEwMDtcbmV4cG9ydCBjb25zdCBDQU5WQVNfSEVJR0hUOiBudW1iZXIgPSA2MDA7XG5cbmV4cG9ydCBjb25zdCBGQURFX0lOX1RJTUU6IG51bWJlciA9IDE7XG5leHBvcnQgY29uc3QgRkFERV9PVVRfVElNRTogbnVtYmVyID0gMC41O1xuXG5leHBvcnQgY29uc3QgREVCVUc6IGJvb2xlYW4gPSB0cnVlO1xuXG5leHBvcnQgY29uc3QgQ0FOVkFTX09GRlNFVF9YID0gQ0FOVkFTX1dJRFRIIC8gMjtcbmV4cG9ydCBjb25zdCBDQU5WQVNfT0ZGU0VUX1kgPSAxNDQgKyAyMDI7XG4iLCJpbXBvcnQgeyBDQU5WQVNfV0lEVEggfSBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7IGdhbWUgfSBmcm9tIFwiLi9nYW1lXCI7XG5pbXBvcnQgeyBJbnB1dE1hbmFnZXIsIEtleSB9IGZyb20gXCIuL2lucHV0XCI7XG5pbXBvcnQgeyBJU2NyZWVuIH0gZnJvbSBcIi4vc2NyZWVuXCI7XG5cbmV4cG9ydCBjbGFzcyBDcmVkaXRzU2NyZWVuIGltcGxlbWVudHMgSVNjcmVlbiB7XG4gICAgcHJpdmF0ZSBwcmV2U2NyZWVuOiBJU2NyZWVuO1xuICAgIHByaXZhdGUgY3JlZGl0czogc3RyaW5nW107XG5cbiAgICBjb25zdHJ1Y3RvcihwcmV2U2NyZWVuPzogSVNjcmVlbikge1xuICAgICAgICB0aGlzLnByZXZTY3JlZW4gPSBwcmV2U2NyZWVuO1xuICAgICAgICB0aGlzLmNyZWRpdHMgPSBbXG4gICAgICAgICAgICBcIkRlc2lnbmVkIGJ5IEFsaWMgU3plY3NlaVwiLFxuICAgICAgICAgICAgXCJBcnR3b3JrIGJ5IFJlbiBOZXltZXllclwiLFxuICAgICAgICBdO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUoZGVsdGFUaW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKElucHV0TWFuYWdlci5wcmVzc2VkKEtleS5FTlRFUilcbiAgICAgICAgICAgIHx8IElucHV0TWFuYWdlci5wcmVzc2VkKEtleS5TUEFDRSlcbiAgICAgICAgICAgIHx8IElucHV0TWFuYWdlci5wcmVzc2VkKEtleS5FU0NBUEUpKSB7XG4gICAgICAgICAgICBnYW1lLmN1cnJlbnRTY3JlZW4gPSB0aGlzLnByZXZTY3JlZW47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgZGVsdGFUaW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwicmVkXCI7XG4gICAgICAgIGN0eC5mb250ID0gXCI2NHB0ICdQcmVzcyBTdGFydCAyUCdcIjtcbiAgICAgICAgY29uc3QgdGl0bGVUZXh0ID0gXCJCZWUgRG9kZ2VyXCI7XG4gICAgICAgIGN0eC5maWxsVGV4dCh0aXRsZVRleHQsIChDQU5WQVNfV0lEVEggLSBjdHgubWVhc3VyZVRleHQodGl0bGVUZXh0KS53aWR0aCkgLyAyLCAxNTApO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xuICAgICAgICBjdHguZm9udCA9IFwiMzJweCAnUHJlc3MgU3RhcnQgMlAnXCI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jcmVkaXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjdHguZmlsbFRleHQodGhpcy5jcmVkaXRzW2ldLCAoQ0FOVkFTX1dJRFRIIC0gY3R4Lm1lYXN1cmVUZXh0KHRoaXMuY3JlZGl0c1tpXSkud2lkdGgpIC8gMiwgMjUwICsgKGkgKiA1MCkpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInllbGxvd1wiO1xuICAgICAgICBjdHguZm9udCA9IFwiMzJweCAnUHJlc3MgU3RhcnQgMlAnXCI7XG4gICAgICAgIGNvbnN0IGJhY2tUZXh0ID0gXCJCYWNrXCI7XG4gICAgICAgIGN0eC5maWxsVGV4dChiYWNrVGV4dCwgKENBTlZBU19XSURUSCAtIGN0eC5tZWFzdXJlVGV4dChiYWNrVGV4dCkud2lkdGgpIC8gMiwgNDAwKTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IElTY3JlZW4sIElTY3JlZW5Db25zdHJ1Y3RvciB9IGZyb20gXCIuL3NjcmVlblwiO1xuaW1wb3J0IHsgVGl0bGVTY3JlZW4gfSBmcm9tIFwiLi90aXRsZXNjcmVlblwiO1xuXG5jbGFzcyBHYW1lIHtcbiAgICBwdWJsaWMgY3VycmVudFNjcmVlbjogSVNjcmVlbjtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5TZXRVcFNjcmVlbihUaXRsZVNjcmVlbik7XG4gICAgfVxuXG4gICAgcHVibGljIFNldFVwU2NyZWVuKFNjcmVlblR5cGU6IElTY3JlZW5Db25zdHJ1Y3Rvcikge1xuICAgICAgICBjb25zdCBtT2xkU2NyZWVuID0gdGhpcy5jdXJyZW50U2NyZWVuO1xuICAgICAgICBjb25zdCBuZXdTY3JlZW4gPSBuZXcgU2NyZWVuVHlwZShtT2xkU2NyZWVuKTtcbiAgICAgICAgdGhpcy5jdXJyZW50U2NyZWVuID0gbmV3U2NyZWVuO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdhbWU6IEdhbWUgPSBuZXcgR2FtZSgpO1xuIiwiaW1wb3J0IHsgQ0FOVkFTX1dJRFRIIH0gZnJvbSBcIi4vY29uZmlnXCI7XG5pbXBvcnQgeyBnYW1lIH0gZnJvbSBcIi4vZ2FtZVwiO1xuaW1wb3J0IHsgSW5wdXRNYW5hZ2VyLCBLZXkgfSBmcm9tIFwiLi9pbnB1dFwiO1xuaW1wb3J0IHsgSVNjcmVlbiB9IGZyb20gXCIuL3NjcmVlblwiO1xuXG5leHBvcnQgY2xhc3MgSGVscFNjcmVlbiBpbXBsZW1lbnRzIElTY3JlZW4ge1xuICAgIHByaXZhdGUgcHJldlNjcmVlbjogSVNjcmVlbjtcbiAgICBwcml2YXRlIGluc3RydWN0aW9uczogc3RyaW5nW107XG5cbiAgICBjb25zdHJ1Y3RvcihwcmV2U2NyZWVuOiBJU2NyZWVuKSB7XG4gICAgICAgIHRoaXMucHJldlNjcmVlbiA9IHByZXZTY3JlZW47XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gW1xuICAgICAgICAgICAgXCJBcnJvdyBrZXlzIHRvIG1vdmVcIixcbiAgICAgICAgICAgIFwiU3BhY2ViYXIgdG8gYWN0aXZhdGUgcGlja3Vwc1wiLFxuICAgICAgICAgICAgXCJEb2RnZSB0aGUgYmVlcyB0byBzdXJ2aXZlIVwiLFxuICAgICAgICBdO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUoZGVsdGFUaW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKElucHV0TWFuYWdlci5wcmVzc2VkKEtleS5FTlRFUilcbiAgICAgICAgICAgIHx8IElucHV0TWFuYWdlci5wcmVzc2VkKEtleS5TUEFDRSlcbiAgICAgICAgICAgIHx8IElucHV0TWFuYWdlci5wcmVzc2VkKEtleS5FU0NBUEUpKSB7XG4gICAgICAgICAgICBnYW1lLmN1cnJlbnRTY3JlZW4gPSB0aGlzLnByZXZTY3JlZW47XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHVibGljIGRyYXcoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGRlbHRhVGltZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJlZFwiO1xuICAgICAgICBjdHguZm9udCA9IFwiNjRwdCAnUHJlc3MgU3RhcnQgMlAnXCI7XG4gICAgICAgIGNvbnN0IHRpdGxlVGV4dCA9IFwiQmVlIERvZGdlclwiO1xuICAgICAgICBjdHguZmlsbFRleHQodGl0bGVUZXh0LCAoQ0FOVkFTX1dJRFRIIC0gY3R4Lm1lYXN1cmVUZXh0KHRpdGxlVGV4dCkud2lkdGgpIC8gMiwgMTUwKTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcbiAgICAgICAgY3R4LmZvbnQgPSBcIjMycHggJ1ByZXNzIFN0YXJ0IDJQJ1wiO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5zdHJ1Y3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB4UG9zID0gKENBTlZBU19XSURUSCAtIGN0eC5tZWFzdXJlVGV4dCh0aGlzLmluc3RydWN0aW9uc1tpXSkud2lkdGgpIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IHlQb3MgPSAyNTAgKyBpICogNTA7XG4gICAgICAgICAgICBjdHguZmlsbFRleHQodGhpcy5pbnN0cnVjdGlvbnNbaV0sIHhQb3MsIHlQb3MpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInllbGxvd1wiO1xuICAgICAgICBjdHguZm9udCA9IFwiMzJweCAnUHJlc3MgU3RhcnQgMlAnXCI7XG4gICAgICAgIGNvbnN0IGJhY2tUZXh0ID0gXCJCYWNrXCI7XG4gICAgICAgIGN0eC5maWxsVGV4dChiYWNrVGV4dCwgKENBTlZBU19XSURUSCAtIGN0eC5tZWFzdXJlVGV4dChiYWNrVGV4dCkud2lkdGgpIC8gMiwgNDAwKTtcbiAgICB9XG59XG4iLCJleHBvcnQgZW51bSBLZXkge1xuICAgIEJBQ0tTUEFDRSA9IDgsXG4gICAgVEFCID0gOSxcbiAgICBFTlRFUiA9IDEzLFxuICAgIFNISUZUID0gMTYsXG4gICAgQ1RSTCA9IDE3LFxuICAgIEFMVCA9IDE4LFxuICAgIFBBVVNFX0JSRUFLID0gMTksXG4gICAgQ0FQU19MT0NLID0gMjAsXG4gICAgRVNDQVBFID0gMjcsXG4gICAgU1BBQ0UgPSAzMixcbiAgICBQQUdFX1VQID0gMzMsXG4gICAgUEFHRV9ET1dOID0gMzQsXG4gICAgRU5EID0gMzUsXG4gICAgSE9NRSA9IDM2LFxuICAgIExFRlRfQVJST1cgPSAzNyxcbiAgICBVUF9BUlJPVyA9IDM4LFxuICAgIFJJR0hUX0FSUk9XID0gMzksXG4gICAgRE9XTl9BUlJPVyA9IDQwLFxuICAgIElOU0VSVCA9IDQ1LFxuICAgIERFTEVURSA9IDQ2LFxuICAgIFpFUk8gPSA0OCxcbiAgICBPTkUgPSA0OSxcbiAgICBUV08gPSA1MCxcbiAgICBUSFJFRSA9IDUxLFxuICAgIEZPVVIgPSA1MixcbiAgICBGSVZFID0gNTMsXG4gICAgU0lYID0gNTQsXG4gICAgU0VWRU4gPSA1NSxcbiAgICBFSUdIVCA9IDU2LFxuICAgIE5JTkUgPSA1NyxcbiAgICBBID0gNjUsXG4gICAgQiA9IDY2LFxuICAgIEMgPSA2NyxcbiAgICBEID0gNjgsXG4gICAgRSA9IDY5LFxuICAgIEYgPSA3MCxcbiAgICBHID0gNzEsXG4gICAgSCA9IDcyLFxuICAgIEkgPSA3MyxcbiAgICBKID0gNzQsXG4gICAgSyA9IDc1LFxuICAgIEwgPSA3NixcbiAgICBNID0gNzcsXG4gICAgTiA9IDc4LFxuICAgIE8gPSA3OSxcbiAgICBQID0gODAsXG4gICAgUSA9IDgxLFxuICAgIFIgPSA4MSxcbiAgICBTID0gODMsXG4gICAgVCA9IDg0LFxuICAgIFUgPSA4NSxcbiAgICBWID0gODYsXG4gICAgVyA9IDg3LFxuICAgIFggPSA4OCxcbiAgICBZID0gODksXG4gICAgWiA9IDkwLFxuICAgIFdJTl9MRUZUID0gOTEsXG4gICAgV0lOX1JJR0hUID0gOTIsXG4gICAgU0VMRUNUID0gOTMsXG4gICAgTlVNX1pFUk8gPSA5NixcbiAgICBOVU1fT05FID0gOTcsXG4gICAgTlVNX1RXTyA9IDk4LFxuICAgIE5VTV9USFJFRSA9IDk5LFxuICAgIE5VTV9GT1VSID0gMTAwLFxuICAgIE5VTV9GSVZFID0gMTAxLFxuICAgIE5VTV9TSVggPSAxMDIsXG4gICAgTlVNX1NFVkVOID0gMTAzLFxuICAgIE5VTV9FSUdIVCA9IDEwNCxcbiAgICBOVU1fTklORSA9IDEwNSxcbiAgICBNVUxUSVBMWSA9IDEwNixcbiAgICBBREQgPSAxMDcsXG4gICAgU1VCVFJBQ1QgPSAxMDksXG4gICAgREVDSU1BTCA9IDExMCxcbiAgICBESVZJREUgPSAxMTEsXG4gICAgRjEgPSAxMTIsXG4gICAgRjIgPSAxMTMsXG4gICAgRjMgPSAxMTQsXG4gICAgRjQgPSAxMTUsXG4gICAgRjUgPSAxMTYsXG4gICAgRjYgPSAxMTcsXG4gICAgRjcgPSAxMTgsXG4gICAgRjggPSAxMTksXG4gICAgRjkgPSAxMjAsXG4gICAgRjEwID0gMTIxLFxuICAgIEYxMSA9IDEyMixcbiAgICBGMTIgPSAxMjMsXG4gICAgTlVNX0xPQ0sgPSAxNDQsXG4gICAgU0NST0xMX0xPQ0sgPSAxNDUsXG4gICAgU0VNSUNPTE9OID0gMTg2LFxuICAgIEVRVUFMUyA9IDE4NyxcbiAgICBDT01NQSA9IDE4OCxcbiAgICBEQVNIID0gMTg5LFxuICAgIFBFUklPRCA9IDE5MCxcbiAgICBGT1JXQVJEX1NMQVNIID0gMTkxLFxuICAgIEdSQVZFX0FDQ0VOVCA9IDE5MixcbiAgICBPUEVOX0JSQUNLRVQgPSAyMTksXG4gICAgQkFDS19TTEFTSCA9IDIyMCxcbiAgICBDTE9TRV9CUkFDS0VUID0gMjIxLFxuICAgIFNJTkdMRV9RVU9URSA9IDIyMixcbn1cblxuY2xhc3MgQ0lucHV0TWFuYWdlciB7XG5cbiAgICBwcml2YXRlIG1QcmVzc2VkID0gbmV3IFNldDxLZXk+KCk7XG4gICAgcHJpdmF0ZSBtTGFzdFByZXNzZWQgPSBuZXcgU2V0PEtleT4oKTtcblxuICAgIHB1YmxpYyBpc0Rvd24oa2V5Q29kZTogS2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1QcmVzc2VkLmhhcyhrZXlDb2RlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcHJlc3NlZChrZXlDb2RlOiBLZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubVByZXNzZWQuaGFzKGtleUNvZGUpICYmICF0aGlzLm1MYXN0UHJlc3NlZC5oYXMoa2V5Q29kZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGlzVXAoa2V5Q29kZTogS2V5KSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5tUHJlc3NlZC5oYXMoa2V5Q29kZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbGVhc2VkKGtleUNvZGU6IEtleSkge1xuICAgICAgICByZXR1cm4gIXRoaXMubVByZXNzZWQuaGFzKGtleUNvZGUpICYmIHRoaXMubUxhc3RQcmVzc2VkLmhhcyhrZXlDb2RlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb25LZXlkb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIHRoaXMubVByZXNzZWQuYWRkKGV2ZW50LmtleUNvZGUpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvbktleXVwKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIHRoaXMubVByZXNzZWQuZGVsZXRlKGV2ZW50LmtleUNvZGUpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBmbHVzaCgpIHtcbiAgICAgICAgdGhpcy5tTGFzdFByZXNzZWQuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5tUHJlc3NlZC5mb3JFYWNoKChrOiBLZXkpID0+IHtcbiAgICAgICAgICAgIHRoaXMubUxhc3RQcmVzc2VkLmFkZChrKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgSW5wdXRNYW5hZ2VyID0gbmV3IENJbnB1dE1hbmFnZXIoKTtcbiIsImltcG9ydCAqIGFzIGNvbmZpZyBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7IGdhbWUgfSBmcm9tIFwiLi9nYW1lXCI7XG5pbXBvcnQgeyBJbnB1dE1hbmFnZXIsIEtleSB9IGZyb20gXCIuL2lucHV0XCI7XG5pbXBvcnQgKiBhcyBSZXNvdXJjZSBmcm9tIFwiLi9yZXNvdXJjZXNcIjtcblxuY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG5jYW52YXMud2lkdGggPSBjb25maWcuQ0FOVkFTX1dJRFRIO1xuY2FudmFzLmhlaWdodCA9IGNvbmZpZy5DQU5WQVNfSEVJR0hUO1xuY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiLCB7YWxwaGE6IGZhbHNlfSk7XG5jdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG5jdHgudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcbmNhbnZhcy53aWR0aCA9IGNvbmZpZy5DQU5WQVNfV0lEVEg7XG5jYW52YXMuaGVpZ2h0ID0gY29uZmlnLkNBTlZBU19IRUlHSFQ7XG5jb25zdCBGUFMgPSAzMDtcblxuUmVzb3VyY2UubG9hZEltYWdlKFwiYmFja2dyb3VuZFwiLCBcImltZy9iZy5wbmdcIik7XG5SZXNvdXJjZS5sb2FkSW1hZ2UoXCJwbGF5ZXJcIiwgXCJpbWcvcGxheWVyLnBuZ1wiKTtcblJlc291cmNlLmxvYWRJbWFnZShcImJhc2ljIGJlZVwiLCBcImltZy9iYXNpY2JlZS5wbmdcIik7XG5SZXNvdXJjZS5sb2FkSW1hZ2UoXCJiaWcgYmVlXCIsIFwiaW1nL2JpZ2JlZS5wbmdcIik7XG5SZXNvdXJjZS5sb2FkSW1hZ2UoXCJiZWUgdGltZVwiLCBcImltZy9iZWV0aW1lLnBuZ1wiKTtcblJlc291cmNlLmxvYWRJbWFnZShcImJ1bWJsZWJlZVwiLCBcImltZy9idW1ibGViZWUucG5nXCIpO1xuUmVzb3VyY2UubG9hZEltYWdlKFwiaG9uZXlcIiwgXCJpbWcvSG9uZXlfQW5pbS5wbmdcIik7XG5SZXNvdXJjZS5sb2FkSW1hZ2UoXCJob25leSBiZWVcIiwgXCJpbWcvaG9uZXliZWUucG5nXCIpO1xuUmVzb3VyY2UubG9hZEltYWdlKFwiZWxkcml0Y2ggYmVlXCIsIFwiaW1nL2VsZHJpdGNoX2FuaW0ucG5nXCIpO1xuUmVzb3VyY2UubG9hZEltYWdlKFwibGFzZXIgYmVlXCIsIFwiaW1nL2xhc2VyIGJlZSBjb21wbGV0ZS5wbmdcIik7XG5SZXNvdXJjZS5sb2FkQXVkaW8oXCJiZ21cIiwgXCJhdWRpby9iZWVkb2RnZXIub2dnXCIpO1xuXG5sZXQgbGFzdCA9IC0xO1xuY29uc3QgZnBzTGlzdCA9IFswXTtcblxuLy8gYWRkIGlucHV0IGxpc3RlbmVyc1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IElucHV0TWFuYWdlci5vbktleXVwKGV2ZW50KSk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiBJbnB1dE1hbmFnZXIub25LZXlkb3duKGV2ZW50KSk7XG5cbmZ1bmN0aW9uIGdhbWVsb29wKHRzOiBudW1iZXIpIHtcbiAgbGV0IGluYyA9IDA7XG4gIGlmIChsYXN0ID09PSAtMSkge1xuICAgIGxhc3QgPSB0cztcbiAgfSBlbHNlIHtcbiAgICBpbmMgPSB0cyAtIGxhc3Q7XG4gICAgbGFzdCA9IHRzO1xuICB9XG5cbiAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjb25maWcuQ0FOVkFTX1dJRFRILCBjb25maWcuQ0FOVkFTX0hFSUdIVCk7XG5cbiAgZ2FtZS5jdXJyZW50U2NyZWVuLnVwZGF0ZShpbmMpO1xuICBnYW1lLmN1cnJlbnRTY3JlZW4uZHJhdyhjdHgsIGluYyk7XG5cbiAgLyogRlBTIENvdW50ZXIgKi9cbiAgaWYgKGNvbmZpZy5ERUJVRykge1xuICAgIGZwc0xpc3QucHVzaChpbmMpO1xuICAgIGlmIChmcHNMaXN0Lmxlbmd0aCA+IDEwKSB7XG4gICAgICBmcHNMaXN0LnNoaWZ0KCk7XG4gICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xuICAgICAgY3R4LmZvbnQgPSBcIjFlbSAnUHJlc3MgU3RhcnQgMlBcIjtcbiAgICAgIGNvbnN0IGF2Z0ZQUyA9IGZwc0xpc3QucmVkdWNlKCh4LCB5KSA9PiB4ICsgeSwgMCkgLyAxMDtcbiAgICAgIGN0eC5maWxsVGV4dChgRlBTOiAkeygxMDAwIC8gYXZnRlBTKS50b0ZpeGVkKDMpfWAsIDUwLCA1MCk7XG4gICAgfVxuICB9XG5cbiAgSW5wdXRNYW5hZ2VyLmZsdXNoKCk7XG5cbiAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lbG9vcCk7XG59XG53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVsb29wKTtcbiIsImltcG9ydCB7IENBTlZBU19IRUlHSFQsIENBTlZBU19XSURUSCB9IGZyb20gXCIuL2NvbmZpZ1wiO1xuaW1wb3J0IHsgZ2FtZSB9IGZyb20gXCIuL2dhbWVcIjtcbmltcG9ydCB7IElucHV0TWFuYWdlciwgS2V5IH0gZnJvbSBcIi4vaW5wdXRcIjtcbmltcG9ydCB7IElTY3JlZW4gfSBmcm9tIFwiLi9zY3JlZW5cIjtcblxuZXhwb3J0IGNsYXNzIE9wdGlvbnNTY3JlZW4gaW1wbGVtZW50cyBJU2NyZWVuIHtcbiAgICBwcml2YXRlIHByZXZTY3JlZW46IElTY3JlZW47XG4gICAgcHJpdmF0ZSBvcHRpb25zOiBzdHJpbmdbXTtcbiAgICBwcml2YXRlIHNlbGVjdGVkOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihwcmV2U2NyZWVuPzogSVNjcmVlbikge1xuICAgICAgICB0aGlzLnByZXZTY3JlZW4gPSBwcmV2U2NyZWVuO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBbXCJDbGVhciBIaWdoIFNjb3Jlc1wiLCBcIkJhY2tcIl07XG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLm9wdGlvbnMubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlKGRlbHRhVGltZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmIChJbnB1dE1hbmFnZXIucHJlc3NlZChLZXkuVVBfQVJST1cpIHx8IElucHV0TWFuYWdlci5wcmVzc2VkKEtleS5XKSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZCA9ICh0aGlzLnNlbGVjdGVkID09PSAwID8gdGhpcy5vcHRpb25zLmxlbmd0aCAtIDEgOiB0aGlzLnNlbGVjdGVkIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKElucHV0TWFuYWdlci5wcmVzc2VkKEtleS5ET1dOX0FSUk9XKSB8fCBJbnB1dE1hbmFnZXIucHJlc3NlZChLZXkuUykpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSAodGhpcy5zZWxlY3RlZCA9PT0gdGhpcy5vcHRpb25zLmxlbmd0aCAtIDEgPyAwIDogdGhpcy5zZWxlY3RlZCArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKElucHV0TWFuYWdlci5wcmVzc2VkKEtleS5FTlRFUikgfHwgSW5wdXRNYW5hZ2VyLnByZXNzZWQoS2V5LlNQQUNFKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBnYW1lLmN1cnJlbnRTY3JlZW4gPSB0aGlzLnByZXZTY3JlZW47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBDbGVhciBoaWdoIHNjb3Jlc1xuICAgICAgICAgICAgICAgIGdhbWUuY3VycmVudFNjcmVlbiA9IHRoaXMucHJldlNjcmVlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkcmF3KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBkZWx0YVRpbWU6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJyZWRcIjtcbiAgICAgICAgY3R4LmZvbnQgPSBcIjMycHQgJ1ByZXNzIFN0YXJ0IDJQJ1wiO1xuICAgICAgICBjb25zdCB0aXRsZVRleHQgPSBcIk9QVElPTlNcIjtcbiAgICAgICAgbGV0IHhQb3MgPSAoQ0FOVkFTX1dJRFRIIC0gY3R4Lm1lYXN1cmVUZXh0KHRpdGxlVGV4dCkud2lkdGgpIC8gMjtcbiAgICAgICAgbGV0IHlQb3MgPSBDQU5WQVNfSEVJR0hUIC8gMjtcbiAgICAgICAgY3R4LmZpbGxUZXh0KHRpdGxlVGV4dCwgeFBvcywgeVBvcyk7XG5cbiAgICAgICAgY3R4LmZvbnQgPSBcIjE2cHQgJ1ByZXNzIFN0YXJ0IDJQJ1wiO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPT09IHRoaXMuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJ5ZWxsb3dcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHhQb3MgPSAoQ0FOVkFTX1dJRFRIIC0gY3R4Lm1lYXN1cmVUZXh0KHRoaXMub3B0aW9uc1tpXSkud2lkdGgpIC8gMjtcbiAgICAgICAgICAgIHlQb3MgPSA0MDAgKyBpICogNTA7XG4gICAgICAgICAgICBjdHguZmlsbFRleHQodGhpcy5vcHRpb25zW2ldLCB4UG9zLCB5UG9zKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEF1ZGlvTWFuYWdlciB9IGZyb20gXCIuL2F1ZGlvbWFuYWdlclwiO1xuXG5jb25zdCBpbWFnZXMgPSBuZXcgTWFwPHN0cmluZywgSFRNTEltYWdlRWxlbWVudD4oKTtcbmNvbnN0IGF1ZGlvID0gbmV3IE1hcDxzdHJpbmcsIEF1ZGlvQnVmZmVyPigpO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXVkaW8obmFtZTogc3RyaW5nKTogQXVkaW9CdWZmZXIge1xuICAgIHJldHVybiBhdWRpby5nZXQobmFtZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbWFnZShuYW1lOiBzdHJpbmcpOiBIVE1MSW1hZ2VFbGVtZW50IHtcbiAgICByZXR1cm4gaW1hZ2VzLmdldChuYW1lKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEltYWdlKG5hbWU6IHN0cmluZywgcGF0aDogc3RyaW5nKSB7XG4gICAgY29uc3QgaW1nID0gbmV3IEhUTUxJbWFnZUVsZW1lbnQoKTtcbiAgICBpbWcuc3JjID0gcGF0aDtcbiAgICBpbWFnZXMuc2V0KG5hbWUsIGltZyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkQXVkaW8obmFtZTogc3RyaW5nLCBwYXRoOiBzdHJpbmcpIHtcbiAgICBBdWRpb01hbmFnZXIuZ2V0QnVmZmVyKHBhdGgpXG4gICAgICAgIC50aGVuKChidWZmZXI6IEF1ZGlvQnVmZmVyKSA9PiBhdWRpby5zZXQobmFtZSwgYnVmZmVyKSk7XG59XG4iLCJpbXBvcnQgeyBDQU5WQVNfSEVJR0hULCBDQU5WQVNfV0lEVEggfSBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7IENyZWRpdHNTY3JlZW4gfSBmcm9tIFwiLi9jcmVkaXRzc2NyZWVuXCI7XG5pbXBvcnQgeyBnYW1lIH0gZnJvbSBcIi4vZ2FtZVwiO1xuaW1wb3J0IHsgSGVscFNjcmVlbiB9IGZyb20gXCIuL2hlbHBzY3JlZW5cIjtcbmltcG9ydCB7IElucHV0TWFuYWdlciwgS2V5IH0gZnJvbSBcIi4vaW5wdXRcIjtcbmltcG9ydCB7IE9wdGlvbnNTY3JlZW4gfSBmcm9tIFwiLi9vcHRpb25zc2NyZWVuXCI7XG5pbXBvcnQgeyBJU2NyZWVuIH0gZnJvbSBcIi4vc2NyZWVuXCI7XG5cbmV4cG9ydCBjbGFzcyBUaXRsZVNjcmVlbiBpbXBsZW1lbnRzIElTY3JlZW4ge1xuXG4gICAgcHJpdmF0ZSBzZWxlY3RlZDogbnVtYmVyO1xuICAgIHByaXZhdGUgbWVudUl0ZW1zOiBzdHJpbmdbXTtcbiAgICBwcml2YXRlIG1lbnVBY3Rpb25zOiBBcnJheTwoKCkgPT4gdm9pZCk+O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSAwO1xuICAgICAgICB0aGlzLm1lbnVJdGVtcyA9IFtcIlN0YXJ0XCIsIFwiT3B0aW9uc1wiLCBcIkhlbHBcIiwgXCJDcmVkaXRzXCJdO1xuICAgICAgICB0aGlzLm1lbnVBY3Rpb25zID0gW3RoaXMuY2hvb3NlR2FtZSwgdGhpcy5jaG9vc2VPcHRpb25zLCB0aGlzLmNob29zZUhlbHAsIHRoaXMuY2hvb3NlQ3JlZGl0c107XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKElucHV0TWFuYWdlci5wcmVzc2VkKEtleS5VUF9BUlJPVykgfHwgSW5wdXRNYW5hZ2VyLnByZXNzZWQoS2V5LlcpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgLT0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoSW5wdXRNYW5hZ2VyLnByZXNzZWQoS2V5LkRPV05fQVJST1cpIHx8IElucHV0TWFuYWdlci5wcmVzc2VkKEtleS5TKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWQgIT09IHRoaXMubWVudUl0ZW1zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKElucHV0TWFuYWdlci5wcmVzc2VkKEtleS5FTlRFUikgfHwgSW5wdXRNYW5hZ2VyLnByZXNzZWQoS2V5LlNQQUNFKSkge1xuICAgICAgICAgICAgLy8gU2VsZWN0aW9uXG4gICAgICAgICAgICB0aGlzLm1lbnVBY3Rpb25zW3RoaXMuc2VsZWN0ZWRdKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xuICAgICAgICBjdHguZm9udCA9IFwiNjRwdCAnUHJlc3MgU3RhcnQgMlAnXCI7XG4gICAgICAgIGNvbnN0IHRpdGxlVGV4dCA9IFwiQmVlIERvZGdlclwiO1xuICAgICAgICBjdHguZmlsbFRleHQodGl0bGVUZXh0LCAoQ0FOVkFTX1dJRFRIIC0gY3R4Lm1lYXN1cmVUZXh0KHRpdGxlVGV4dCkud2lkdGgpIC8gMiwgQ0FOVkFTX0hFSUdIVCAvIDIgLSA1MCk7XG5cbiAgICAgICAgY3R4LmZvbnQgPSBcIjMycHggJ1ByZXNzIFN0YXJ0IDJQJ1wiO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVudUl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gdGhpcy5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInllbGxvd1wiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWVudVRleHQgPSAoaSA9PT0gdGhpcy5zZWxlY3RlZCA/IFwiLSBcIiA6IFwiXCIpICsgdGhpcy5tZW51SXRlbXNbaV07XG4gICAgICAgICAgICBjb25zdCB4UG9zID0gMTUwICsgKGkgPT09IHRoaXMuc2VsZWN0ZWQgPyA1MCA6IDApO1xuICAgICAgICAgICAgY29uc3QgeVBvcyA9IDQwMCArIGkgKiA1MDtcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChtZW51VGV4dCwgeFBvcywgeVBvcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNob29zZUdhbWUoKSB7XG4gICAgICAgIC8vIFRPRE86IENyZWF0ZSBnYW1lIHNjcmVlblxuICAgIH1cblxuICAgIHByaXZhdGUgY2hvb3NlT3B0aW9ucygpIHtcbiAgICAgICAgZ2FtZS5TZXRVcFNjcmVlbihPcHRpb25zU2NyZWVuKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNob29zZUhlbHAoKSB7XG4gICAgICAgIGdhbWUuU2V0VXBTY3JlZW4oSGVscFNjcmVlbik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjaG9vc2VDcmVkaXRzKCkge1xuICAgICAgICBnYW1lLlNldFVwU2NyZWVuKENyZWRpdHNTY3JlZW4pO1xuICAgIH1cbn1cbiJdfQ=="}